<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/amplify.css">
    <link rel="stylesheet" href="css/public.css">
</head>
<body>
        <header>
                <div class="header-a margin">
                        <div class="header-a-1">
                            <a href="">国美会员</a>
                            <a href="" class="te">登录</a>
                            <a href="">注册有物<img
                                    src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1994278126,943240975&fm=26&gp=0.jpg"
                                    width="12" ; height="13" ;></a>
                        </div>
            
                        <div class="header-a-2">
                            <ul>
                                <li>我的订单</li>
                                <li>我的国美</li>
                                <li>
                                    <a href="">企业采购</a>
                                    <ul class="te1">
                                        <ul>
                                            <li>
                                                <img src="https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268%3Bg%3D0/sign=7bcb659c9745d688a302b5a29cf91a23/2934349b033b5bb571dc8c5133d3d539b600bc12.jpg"
                                                    alt="" width="50" ; height="50" ;>
                                            </li>
                                        </ul>
                                    </ul>
                                </li>
                                <li>
                                    <a href="">服务中心</a>
                                    <ul class="te2">
                                        <ul>
                                            <li>
                                                <p>用户服务</p>
                                            </li>
                                            <li>售后服务</li>
                                            <li>帮助服务</li>
                                            <li>新手指南</li>
                                            <li>客服服务</li>
                                            <li>用户注销</li>
                                        </ul>
            
                                        <ul>
                                            <li>
                                                <p>商家服务</p>
                                            </li>
                                            <li>商家入驻</li>
                                            <li>商家登录</li>
                                            <li>广告平台</li>
                                            <li>平台规则</li>
                                            <li>商家培训</li>
                                        </ul>
                                    </ul>
                                </li>
                                <li><a href="">网站导航</a></li>
                                <li><a href="">手机国美</a></li>
                            </ul>
                        </div>
                    </div>
        </header>
        
                
        <div id="box" class="margin">
            <div class="box-a">
                <img src="./imgs/4.png" alt="">
            </div>

            <div class="box-b">
                <input type="button" value="商品" class="user">
                <input type="text" value="彩电">
                <input type="button" value="搜全站"  class="pass">
                <input type="button" value="搜本站" class="te">
                <span>苏泊尔</span>
                <span>红火点</span>
                <span>菲仕乐</span>
                <span>爱仕达</span>
                <span>铸铁锅</span>
            </div>

            <div class="box-c">
                <img src="./imgs/7.jpg" alt="">
                <a href=""><span>我的购物车</span></a>
            </div>
        </div>

        <nav>
            <div class="nav margin">
                <ul>
                    <li><a href="">首页</a></li>
                    <li><a href="">所有商品</a></li>
                </ul>
            </div>
        </nav>

        <!-- name:document.querySelector(".title-b ul li h4"),
        price:document.querySelector(".title-b .te i"),
        img:document.querySelector(".title-a-1 img"),
        bigPic:document.querySelector(".title-a-2") -->
        <div id="title" class="margin">
            <div class="title-a">
                <div class="title-a-1">
                    <img src="https://gfs17.gomein.net.cn/T1G5YyBKEv1RCvBVdK_800_pc.jpg" alt="">
                    <div class="title-a-1-1"></div>
                </div>
                <div class="title-a-2"></div>
            </div>

            <div class="title-b">
                <ul>
                    <li>
                        <h4>苏泊尔升级火红点4代炒锅不粘锅无油烟家用炒菜锅燃气灶明火专用(PC32HA3-32CM)</h4>
                    </li>
                    <li class="box">
                        <img src="https://gfs10.gomein.net.cn/T11hZvBvbj1RCvBVdK.png " alt="">
                    </li>
                    <li class="te">
                        <span>团购价</span><i>¥379.00</i><span>降价通知</span>
                    </li>
                    <li>
                        <span>特色</span><a href="">管家服务</a>
                    </li>
                    <li>
                        <span>送至</span><i>上海市黄浦区半淞园路街道</i>
                    </li>
                    <li>
                        <span>服务</span><i>苏泊尔锅具专营店</i>
                    </li>
                    <li class="te1">
                        <span>颜色</span>
                        <input type="text" value="PC30HA3-30CM">
                        <input type="text" value="PC30HA3-30CM">
                    </li>
                    <li class="te4">
                        <input type="text" value="1">
                        <input type="button" value="加入购物车" class="pass">
                        <span>手机下单</span>
                    </li>
                </ul>
            </div>
        </div>


        <div class="margin banner">
            <div class="banner-a">
                <div class="banner-a-1">
                    <ul>
                        <li class="te">商品详情</li>
                        <li>规格与包装</li>
                        <li>商品评价</li>
                        <li>售货保障</li>
                        <li>小助手</li>
                        <li>本店好评商品</li>
                    </ul>
                </div>

                <div class="banner-a-2">
                    <ul>
                        <li><img src="https://gfs.gomein.net.cn/T1b.YyBCJv1RCvBVdK" alt=""></li>
                        <li><img src="https://gfs.gomein.net.cn/T1skdyBTJv1RCvBVdK" alt=""></li>
                        <li><img src="https://gfs.gomein.net.cn/T1qoVyBgLT1RCvBVdK" alt=""></li>
                        <li><img src="https://gfs4.gomein.net.cn/T1f.DyBvZv1RCvBVdK" alt=""></li>
                        <li><img src="https://gfs1.gomein.net.cn/T1Yk_yByYv1RCvBVdK" alt=""></li>
                        <li><img src="https://gfs.gomein.net.cn/T1V5_yByEv1RCvBVdK" alt=""></li>
                        <li><img src="https://gfs2.gomein.net.cn/T1Q.AyBvbT1RCvBVdK" alt=""></li>
                    </ul>
                </div>
            </div>
        </div> 
</body>
<script src="./ajax.js"></script>
<script src="./cookie.js"></script>
<script src="./js/fang.js"></script>
<script>
    class List{
        constructor(options){
            this.name = options.name;
            this.price = options.price;
            this.img = options.img;
            this.bigPic = options.bigPic;
            this.url = options.url;
            this.id = getQueryVariable("id");

            this.load();
        }
        load(){
            var that = this;
            ajaxGet(this.url,function(res){
                that.res = JSON.parse(res);
                that.display()
            })
        }
        display(){
                console.log(this.res);
            for(var i=0;i<this.res.length;i++){
                
                if( this.res[i].goodsId == this.id){
                
                    this.name.innerHTML = this.res[i].name;
                    this.price.innerHTML = this.res[i].price;
                    this.img.src = this.res[i].img;
                    this.bigPic.style.backgroundImage = `url(${this.res[i].img})`;
                }
            }
        }
    
}
new List({
        url:"http://localhost/gome/json/goods.json",
        name:document.querySelector(".title-b ul li h4"),
        price:document.querySelector(".title-b .te i"),
        img:document.querySelector(".title-a-1 img"),
        bigPic:document.querySelector(".title-a-2")
    })

    function getQueryVariable(variable) {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] == variable) {
            return pair[1];
        }
    }
}


</script>
</html>